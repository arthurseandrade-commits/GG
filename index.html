<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GG - Global Games | Not√≠cias de Games</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0a0a0c;
            --bg-card: #15151a;
            --neon-purple: #9d4edd;
            --neon-green: #39ff14;
            --text-main: #e2e8f0;
            --text-muted: #94a3b8;
            --danger: #e63946;
            --warning: #f4a261;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-main);
            line-height: 1.6;
            overflow-x: hidden;
        }
        h1, h2, h3, .logo { font-family: 'Orbitron', sans-serif; text-transform: uppercase; }
        a { text-decoration: none; color: inherit; cursor: pointer; }
        ul { list-style: none; }

        /* Navega√ß√£o */
        header {
            background-color: rgba(10, 10, 12, 0.95);
            border-bottom: 2px solid var(--neon-purple);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 1rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 0 15px rgba(157, 78, 221, 0.3);
            backdrop-filter: blur(10px);
        }
        .logo { font-size: 2rem; font-weight: 900; color: #fff; cursor: pointer; }
        .logo span { color: var(--neon-purple); text-shadow: 0 0 10px var(--neon-purple); }
        .nav-links { display: flex; gap: 1.5rem; align-items: center; }
        .nav-links li a:hover { color: var(--neon-green); text-shadow: 0 0 8px var(--neon-green); transition: 0.3s; }
        .search-bar { padding: 0.6rem; border-radius: 4px; border: 1px solid var(--neon-purple); background: var(--bg-card); color: #fff; outline: none; width: 200px; transition: 0.3s; }
        .search-bar:focus { box-shadow: 0 0 10px rgba(157, 78, 221, 0.5); width: 250px; }

        /* Admin icon */
        .admin-toggle {
            background: none;
            border: 1px solid var(--text-muted);
            color: var(--text-muted);
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            font-family: 'Orbitron', sans-serif;
            transition: 0.3s;
        }
        .admin-toggle:hover { border-color: var(--neon-purple); color: var(--neon-purple); }
        .admin-toggle.logged { border-color: var(--neon-green); color: var(--neon-green); }

        /* Estrutura */
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem 5%; min-height: 80vh; }
        .page { display: none; }
        .page.active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Banner */
        .banner {
            background: linear-gradient(to top, var(--bg-dark), transparent), url('') center/cover;
            height: 400px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 2rem;
            border: 1px solid #2a2a35;
            margin-bottom: 2rem;
            position: relative;
        }
        .banner-tag { background: var(--neon-purple); color: #fff; padding: 5px 10px; font-weight: bold; border-radius: 3px; display: inline-block; margin-bottom: 10px; font-size: 0.8rem; }
        .banner h1 { font-size: 2.5rem; margin-bottom: 10px; }

        /* Filtros */
        .filters { display: flex; gap: 10px; margin-bottom: 2rem; flex-wrap: wrap; }
        .filter-btn {
            background: transparent;
            color: var(--text-muted);
            border: 1px solid #555;
            padding: 8px 15px;
            border-radius: 4px;
            font-family: 'Orbitron', sans-serif;
            cursor: pointer;
            transition: 0.3s;
            font-size: 0.8rem;
        }
        .filter-btn:hover { color: white; border-color: var(--neon-purple); }
        .filter-btn.active { background: var(--neon-purple); color: white; border-color: var(--neon-purple); box-shadow: 0 0 10px rgba(157, 78, 221, 0.5); }

        /* Grid de Not√≠cias */
        .section-title { font-size: 1.8rem; border-left: 4px solid var(--neon-green); padding-left: 10px; margin-bottom: 1.5rem; }
        .news-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; }
        .news-card {
            background: var(--bg-card);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #2a2a35;
            transition: transform 0.3s;
        }
        .news-card:hover { transform: translateY(-5px); border-color: var(--neon-purple); box-shadow: 0 5px 15px rgba(157, 78, 221, 0.2); }
        .news-img { width: 100%; height: 180px; object-fit: cover; background-color: #333; display: block; }
        .news-content { padding: 1.5rem; }
        .news-content h3 { font-size: 1.2rem; margin-bottom: 10px; }
        .news-content p { color: var(--text-muted); font-size: 0.9rem; margin-bottom: 15px; }
        .btn-read {
            background: transparent;
            color: var(--neon-green);
            border: 1px solid var(--neon-green);
            padding: 8px 15px;
            border-radius: 4px;
            font-family: 'Orbitron', sans-serif;
            transition: 0.3s;
            cursor: pointer;
            font-size: 0.75rem;
        }
        .btn-read:hover { background: var(--neon-green); color: #000; box-shadow: 0 0 10px var(--neon-green); }

        /* Artigo */
        .article-header { text-align: center; margin-bottom: 2rem; }
        .article-header h1 { font-size: 2.5rem; margin-bottom: 10px; color: var(--neon-green); }
        .article-meta { color: var(--text-muted); font-size: 0.9rem; margin-bottom: 20px; }
        .article-hero-img { width: 100%; max-height: 500px; object-fit: cover; border-radius: 10px; margin-bottom: 2rem; border: 1px solid var(--neon-purple); }
        .article-body { font-size: 1.1rem; color: #cbd5e1; margin-bottom: 3rem; }
        .article-body p { margin-bottom: 1.5rem; }
        .share-buttons { display: flex; gap: 10px; margin-bottom: 3rem; }
        .share-btn { padding: 10px 20px; border-radius: 5px; font-weight: bold; border: none; cursor: pointer; color: white; }
        .bg-twitter { background: #1DA1F2; }
        .bg-zap { background: #25D366; }
        .comments-section { background: var(--bg-card); padding: 2rem; border-radius: 8px; border: 1px solid #2a2a35; }
        .comments-section textarea { width: 100%; padding: 10px; background: var(--bg-dark); color: white; border: 1px solid var(--text-muted); border-radius: 5px; margin-bottom: 10px; resize: vertical; font-family: 'Inter', sans-serif; }
        .btn-back { margin-bottom: 2rem; }

        /* Sobre */
        .about-box { background: var(--bg-card); padding: 3rem; border-radius: 10px; text-align: center; border-top: 4px solid var(--neon-purple); }

        /* Footer */
        footer { background: #050505; text-align: center; padding: 2rem; border-top: 1px solid #2a2a35; margin-top: 2rem; }

        /* ============================== */
        /* MODAL DE LOGIN                 */
        /* ============================== */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.85);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }
        .modal-overlay.show { display: flex; }
        .modal-box {
            background: var(--bg-card);
            border: 2px solid var(--neon-purple);
            border-radius: 12px;
            padding: 2.5rem;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 0 40px rgba(157, 78, 221, 0.4);
            animation: fadeIn 0.3s ease;
        }
        .modal-box h2 { color: var(--neon-purple); margin-bottom: 0.5rem; font-size: 1.5rem; }
        .modal-box p { color: var(--text-muted); margin-bottom: 1.5rem; font-size: 0.9rem; }
        .modal-input {
            width: 100%;
            padding: 12px;
            background: var(--bg-dark);
            border: 1px solid #555;
            border-radius: 6px;
            color: white;
            font-size: 1rem;
            margin-bottom: 1rem;
            outline: none;
            text-align: center;
            letter-spacing: 3px;
            font-family: 'Orbitron', sans-serif;
        }
        .modal-input:focus { border-color: var(--neon-purple); box-shadow: 0 0 10px rgba(157, 78, 221, 0.3); }
        .modal-error { color: var(--danger); font-size: 0.85rem; margin-bottom: 1rem; display: none; }
        .modal-btns { display: flex; gap: 10px; }
        .modal-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 6px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.85rem;
            cursor: pointer;
            transition: 0.3s;
        }
        .modal-btn.primary { background: var(--neon-purple); color: white; }
        .modal-btn.primary:hover { box-shadow: 0 0 15px rgba(157, 78, 221, 0.5); }
        .modal-btn.secondary { background: transparent; color: var(--text-muted); border: 1px solid #555; }
        .modal-btn.secondary:hover { border-color: var(--text-muted); }

        /* ============================== */
        /* DASHBOARD                      */
        /* ============================== */
        .dash-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        .dash-header h2 { color: var(--neon-purple); }
        .dash-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .stat-card {
            background: var(--bg-card);
            border: 1px solid #2a2a35;
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
        }
        .stat-card .stat-number {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--neon-green);
        }
        .stat-card .stat-label { color: var(--text-muted); font-size: 0.85rem; margin-top: 5px; }

        /* Formul√°rio */
        .dash-form {
            background: var(--bg-card);
            border: 1px solid #2a2a35;
            border-radius: 10px;
            padding: 2rem;
            margin-bottom: 2rem;
            border-top: 3px solid var(--neon-purple);
        }
        .dash-form h3 { color: var(--neon-green); margin-bottom: 1.5rem; font-size: 1.2rem; }
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        .form-group { display: flex; flex-direction: column; gap: 6px; }
        .form-group.full { grid-column: 1 / -1; }
        .form-group label {
            font-size: 0.85rem;
            color: var(--neon-purple);
            font-family: 'Orbitron', sans-serif;
            font-weight: 500;
        }
        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 10px 12px;
            background: var(--bg-dark);
            border: 1px solid #333;
            border-radius: 6px;
            color: white;
            font-size: 0.95rem;
            outline: none;
            font-family: 'Inter', sans-serif;
            transition: 0.3s;
        }
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: var(--neon-purple);
            box-shadow: 0 0 8px rgba(157, 78, 221, 0.2);
        }
        .form-group textarea { resize: vertical; min-height: 120px; }
        .form-group select option { background: var(--bg-dark); }
        .form-actions { display: flex; gap: 10px; margin-top: 1.5rem; }
        .btn-dash {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.8rem;
            cursor: pointer;
            transition: 0.3s;
        }
        .btn-dash.save { background: var(--neon-green); color: #000; }
        .btn-dash.save:hover { box-shadow: 0 0 15px var(--neon-green); }
        .btn-dash.cancel { background: transparent; color: var(--text-muted); border: 1px solid #555; }
        .btn-dash.cancel:hover { border-color: white; color: white; }
        .btn-dash.danger { background: var(--danger); color: white; }
        .btn-dash.danger:hover { box-shadow: 0 0 15px var(--danger); }
        .btn-dash.edit { background: var(--warning); color: #000; }
        .btn-dash.new { background: var(--neon-purple); color: white; }
        .btn-dash.new:hover { box-shadow: 0 0 15px rgba(157, 78, 221, 0.5); }

        /* Tabela de Not√≠cias */
        .dash-table-wrapper { overflow-x: auto; }
        .dash-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-card);
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid #2a2a35;
        }
        .dash-table th {
            background: rgba(157, 78, 221, 0.15);
            color: var(--neon-purple);
            font-family: 'Orbitron', sans-serif;
            font-size: 0.75rem;
            padding: 14px 16px;
            text-align: left;
            white-space: nowrap;
        }
        .dash-table td {
            padding: 12px 16px;
            border-bottom: 1px solid #1e1e28;
            font-size: 0.9rem;
            vertical-align: middle;
        }
        .dash-table tr:hover td { background: rgba(157, 78, 221, 0.05); }
        .dash-table .cat-badge {
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.7rem;
            font-weight: bold;
            text-transform: uppercase;
        }
        .dash-table .actions-cell { display: flex; gap: 6px; flex-wrap: wrap; }
        .dash-table .featured-star { color: var(--neon-green); font-size: 1.2rem; cursor: pointer; title: "Destaque"; }
        .dash-table .featured-star.inactive { color: #555; }
        .img-preview {
            width: 60px;
            height: 40px;
            object-fit: cover;
            border-radius: 4px;
            border: 1px solid #333;
        }
        .no-data {
            text-align: center;
            padding: 3rem;
            color: var(--text-muted);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--neon-green);
            color: #000;
            padding: 14px 24px;
            border-radius: 8px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.85rem;
            font-weight: 700;
            box-shadow: 0 0 20px rgba(57, 255, 20, 0.4);
            z-index: 10000;
            transform: translateY(100px);
            opacity: 0;
            transition: 0.4s;
        }
        .toast.show { transform: translateY(0); opacity: 1; }
        .toast.error { background: var(--danger); color: white; box-shadow: 0 0 20px rgba(230, 57, 70, 0.4); }

        /* Responsividade */
        @media (max-width: 768px) {
            header { flex-direction: column; gap: 1rem; }
            .nav-links { flex-wrap: wrap; justify-content: center; }
            .search-bar { width: 100%; }
            .search-bar:focus { width: 100%; }
            .banner h1 { font-size: 1.8rem; }
            .article-header h1 { font-size: 1.8rem; }
            .form-grid { grid-template-columns: 1fr; }
            .dash-header { flex-direction: column; align-items: flex-start; }
        }
    </style>
</head>
<body>

    <!-- CABE√áALHO -->
    <header>
        <div class="logo" onclick="navigate('home')">GG<span>.</span></div>
        <ul class="nav-links">
            <li><a onclick="navigate('home')">In√≠cio</a></li>
            <li><a onclick="navigate('home'); setTimeout(()=>filterNews('roblox', document.getElementById('btn-roblox')),100)">Roblox</a></li>
            <li><a onclick="navigate('home')">Atualiza√ß√µes</a></li>
            <li><a onclick="navigate('about')">Sobre</a></li>
            <li>
                <button id="adminBtn" class="admin-toggle" onclick="handleAdminClick()">
                    ‚öô Admin
                </button>
            </li>
        </ul>
        <input type="text" id="searchInput" class="search-bar" placeholder="Buscar game ou not√≠cia..." onkeyup="searchNews()">
    </header>

    <!-- MODAL DE LOGIN -->
    <div id="loginModal" class="modal-overlay">
        <div class="modal-box">
            <h2>üîí Acesso Admin</h2>
            <p>Digite a senha para acessar o painel</p>
            <input type="password" id="loginPassword" class="modal-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" onkeydown="if(event.key==='Enter') attemptLogin()">
            <p id="loginError" class="modal-error">‚ùå Senha incorreta! Tente novamente.</p>
            <div class="modal-btns">
                <button class="modal-btn secondary" onclick="closeLoginModal()">Cancelar</button>
                <button class="modal-btn primary" onclick="attemptLogin()">Entrar</button>
            </div>
        </div>
    </div>

    <div class="container">

        <!-- P√ÅGINA INICIAL -->
        <main id="home" class="page active">
            <div class="banner" id="mainBanner">
                <span class="banner-tag">DESTAQUE</span>
                <h1 id="bannerTitle">Carregando...</h1>
                <p id="bannerDesc"></p>
                <br>
                <div>
                    <button class="btn-read" onclick="openFeaturedArticle()">Ler Mat√©ria Completa</button>
                </div>
            </div>

            <div class="filters">
                <button id="btn-todos" class="filter-btn active" onclick="filterNews('todos', this)">Todos</button>
                <button id="btn-roblox" class="filter-btn" onclick="filterNews('roblox', this)">Roblox</button>
                <button id="btn-minecraft" class="filter-btn" onclick="filterNews('minecraft', this)">Minecraft</button>
                <button id="btn-fortnite" class="filter-btn" onclick="filterNews('fortnite', this)">Fortnite</button>
                <button id="btn-hardware" class="filter-btn" onclick="filterNews('hardware', this)">Hardware</button>
            </div>

            <h2 class="section-title">√öltimas Not√≠cias</h2>
            <div class="news-grid" id="news-container"></div>
        </main>

        <!-- P√ÅGINA DE ARTIGO (Din√¢mica) -->
        <main id="article" class="page">
            <div class="btn-back">
                <button class="btn-read" onclick="navigate('home')">‚Üê Voltar</button>
            </div>
            <div class="article-header">
                <span class="banner-tag" id="articleTag">TAG</span>
                <h1 id="articleTitle">T√≠tulo</h1>
                <div class="article-meta" id="articleMeta"></div>
            </div>
            <img id="articleImg" src="" alt="Capa" class="article-hero-img">
            <div class="article-body" id="articleBody"></div>

            <div class="share-buttons">
                <button class="share-btn bg-twitter" onclick="shareTwitter()">X (Twitter)</button>
                <button class="share-btn bg-zap" onclick="shareWhatsApp()">WhatsApp</button>
            </div>

            <div class="comments-section">
                <h3 style="margin-bottom: 1rem;">Deixe seu coment√°rio</h3>
                <textarea rows="4" placeholder="O que voc√™ achou dessa novidade?"></textarea>
                <button class="btn-read">Publicar Coment√°rio</button>
            </div>
        </main>

        <!-- P√ÅGINA SOBRE -->
        <main id="about" class="page">
            <div class="about-box">
                <div class="logo" style="font-size: 3rem; margin-bottom: 1rem;">GG<span>.</span></div>
                <h2 style="color: var(--neon-green); margin-bottom: 1.5rem;">GLOBAL GAMES</h2>
                <p style="font-size: 1.2rem; color: #cbd5e1; max-width: 800px; margin: 0 auto;">
                    O <strong>GG ‚Äì Global Games</strong> √© o seu portal definitivo focado em not√≠cias de games, atualiza√ß√µes, eventos de eSports e novidades do mundo gamer.
                </p>
            </div>
        </main>

        <!-- ============================== -->
        <!-- DASHBOARD ADMIN                -->
        <!-- ============================== -->
        <main id="dashboard" class="page">
            <div class="dash-header">
                <div>
                    <h2>‚ö° Painel Admin</h2>
                    <p style="color: var(--text-muted); font-size: 0.9rem;">Gerencie todas as not√≠cias do portal</p>
                </div>
                <div style="display:flex; gap:10px; flex-wrap: wrap;">
                    <button class="btn-dash new" onclick="showForm()">+ Nova Not√≠cia</button>
                    <button class="btn-dash cancel" onclick="handleLogout()">Sair do Painel</button>
                </div>
            </div>

            <!-- Estat√≠sticas -->
            <div class="dash-stats">
                <div class="stat-card">
                    <div class="stat-number" id="statTotal">0</div>
                    <div class="stat-label">Total de Not√≠cias</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="statRoblox">0</div>
                    <div class="stat-label">Roblox</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="statMinecraft">0</div>
                    <div class="stat-label">Minecraft</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="statFortnite">0</div>
                    <div class="stat-label">Fortnite</div>
                </div>
            </div>

            <!-- Formul√°rio Adicionar/Editar -->
            <div class="dash-form" id="newsForm" style="display: none;">
                <h3 id="formTitle">‚ûï Adicionar Nova Not√≠cia</h3>
                <input type="hidden" id="editingId">
                <div class="form-grid">
                    <div class="form-group full">
                        <label>T√≠tulo da Not√≠cia</label>
                        <input type="text" id="inputTitle" placeholder="Ex: Blox Fruits: Novo c√≥digo revelado!">
                    </div>
                    <div class="form-group">
                        <label>Categoria</label>
                        <select id="inputCategory">
                            <option value="roblox">Roblox</option>
                            <option value="minecraft">Minecraft</option>
                            <option value="fortnite">Fortnite</option>
                            <option value="hardware">Hardware & Setup</option>
                            <option value="esports">eSports</option>
                            <option value="geral">Geral</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>URL da Imagem</label>
                        <input type="text" id="inputImage" placeholder="https://exemplo.com/imagem.jpg">
                    </div>
                    <div class="form-group full">
                        <label>Descri√ß√£o Curta (card)</label>
                        <input type="text" id="inputDesc" placeholder="Resumo que aparece no card da not√≠cia">
                    </div>
                    <div class="form-group full">
                        <label>Conte√∫do Completo (use Enter para par√°grafos)</label>
                        <textarea id="inputBody" rows="8" placeholder="Escreva o conte√∫do completo da mat√©ria aqui..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>Destaque no Banner?</label>
                        <select id="inputFeatured">
                            <option value="false">N√£o</option>
                            <option value="true">‚ú∞ Sim - Destaque Principal</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Data</label>
                        <input type="date" id="inputDate">
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn-dash save" onclick="saveNews()">üíæ Salvar Not√≠cia</button>
                    <button class="btn-dash cancel" onclick="hideForm()">Cancelar</button>
                </div>
            </div>

            <!-- Tabela de Not√≠cias -->
            <h3 style="color: var(--neon-green); margin-bottom: 1rem; font-family: 'Orbitron';">üìã Todas as Not√≠cias</h3>
            <div class="dash-table-wrapper">
                <table class="dash-table">
                    <thead>
                        <tr>
                            <th>‚≠ê</th>
                            <th>Imagem</th>
                            <th>T√≠tulo</th>
                            <th>Categoria</th>
                            <th>Data</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="dashTableBody">
                    </tbody>
                </table>
            </div>
        </main>
    </div>

    <!-- RODAP√â -->
    <footer>
        <div class="logo">GG<span>.</span></div>
        <p style="color: var(--text-muted); margin-top: 10px;">&copy; 2024 GG - Global Games. Todos os direitos reservados.</p>
    </footer>

    <!-- TOAST -->
    <div id="toast" class="toast"></div>

    <script>
        // ============================
        // CONFIGURA√á√ÉO
        // ============================
        const ADMIN_PASSWORD = "gg2024"; // üîë MUDE ESTA SENHA!
        let isLoggedIn = false;

        // Categorias com cores
        const categoryColors = {
            roblox: '#e63946',
            minecraft: '#2a9d8f',
            fortnite: '#4361ee',
            hardware: '#9d4edd',
            esports: '#f77f00',
            geral: '#6c757d'
        };

        const categoryLabels = {
            roblox: 'Roblox',
            minecraft: 'Minecraft',
            fortnite: 'Fortnite',
            hardware: 'Hardware',
            esports: 'eSports',
            geral: 'Geral'
        };

        // ============================
        // DADOS INICIAIS (default)
        // ============================
        const defaultNews = [
            {
                id: 1,
                title: "Fortnite: Nova Temporada traz mapa revolucion√°rio e parceria com Anime",
                category: "fortnite",
                image: "https://images.unsplash.com/photo-1542751371-adc38448a05e?q=80&w=2070",
                description: "Confira todas as novidades do patch 29.00 e o que muda no meta competitivo.",
                body: "A Epic Games surpreendeu a comunidade nesta manh√£ com o lan√ßamento da aguardada nova temporada de Fortnite. Trazendo um mapa completamente reformulado, novas mec√¢nicas de movimento e um passe de batalha recheado de parcerias com animes famosos.\n\nAs cl√°ssicas Torres Tortas deram espa√ßo para uma metr√≥pole futurista com trens em movimento, onde os jogadores podem lutar enquanto atravessam a ilha. Al√©m disso, tr√™s novos biomas foram adicionados.\n\n\"N√≥s quer√≠amos trazer a sensa√ß√£o de velocidade e verticalidade de volta ao jogo\", afirmou o diretor de design do game em nota oficial. Os servidores j√° est√£o online e a atualiza√ß√£o pesa cerca de 25GB nos consoles e PC.",
                featured: true,
                date: "2024-10-24"
            },
            {
                id: 2,
                title: "Blox Fruits: Novo c√≥digo de XP Duplo revelado!",
                category: "roblox",
                image: "https://images.unsplash.com/photo-1607853202273-797f1c22a38e?q=80&w=600",
                description: "Desenvolvedores liberaram um novo c√≥digo surpresa neste fim de semana. Veja como resgatar.",
                body: "Os desenvolvedores de Blox Fruits acabaram de liberar um c√≥digo especial de XP Duplo que vai facilitar muito a vida dos jogadores que est√£o tentando subir de n√≠vel!\n\nO c√≥digo √© v√°lido por tempo limitado, ent√£o corra para resgatar. Basta abrir o menu de c√≥digos dentro do jogo e digitar o c√≥digo promocional.\n\nAl√©m disso, a pr√≥xima atualiza√ß√£o promete trazer uma nova fruta lend√°ria e um novo bioma no Terceiro Mar. Fiquem atentos √†s redes sociais oficiais!",
                featured: false,
                date: "2024-10-23"
            },
            {
                id: 3,
                title: "Atualiza√ß√£o 1.21: Novo mob adicionado ao Minecraft",
                category: "minecraft",
                image: "https://images.unsplash.com/photo-1628527305929-e889ee839171?q=80&w=600",
                description: "A Mojang finalmente detalhou as mec√¢nicas do novo mob hostil que chegar√° nas pr√≥ximas snapshots.",
                body: "A Mojang anunciou oficialmente os detalhes da atualiza√ß√£o 1.21 do Minecraft, que trar√° um novo mob hostil √†s cavernas profundas do jogo.\n\nO novo mob promete mudar completamente a din√¢mica de explora√ß√£o subterr√¢nea, for√ßando os jogadores a serem mais estrat√©gicos em suas aventuras.\n\nA atualiza√ß√£o tamb√©m inclui novos blocos decorativos, uma nova mec√¢nica de crafting e melhorias gerais de performance.",
                featured: false,
                date: "2024-10-22"
            },
            {
                id: 4,
                title: "Review: O melhor mouse custo-benef√≠cio para FPS",
                category: "hardware",
                image: "https://images.unsplash.com/photo-1538481199705-c710c4e965fc?q=80&w=600",
                description: "Testamos o novo lan√ßamento focado em jogadores de Valorant e CS2. Vale a pena?",
                body: "Se voc√™ est√° procurando um mouse gamer que ofere√ßa desempenho competitivo sem estourar o or√ßamento, este review √© para voc√™!\n\nTestamos durante duas semanas o novo modelo que promete sensor de alta precis√£o, design ergon√¥mico e peso ultraleve por um pre√ßo acess√≠vel.\n\nNos testes em Valorant e CS2, o sensor se mostrou extremamente preciso, sem acelera√ß√£o ou suaviza√ß√£o indesejada. A constru√ß√£o √© s√≥lida e os switches principais t√™m um clique satisfat√≥rio.\n\nVeredicto: Para quem busca custo-benef√≠cio, este √© facilmente o melhor mouse da faixa de pre√ßo.",
                featured: false,
                date: "2024-10-21"
            }
        ];

        // ============================
        // GERENCIAMENTO DE DADOS (localStorage)
        // ============================
        function getNews() {
            const stored = localStorage.getItem('gg_news');
            if (!stored) {
                localStorage.setItem('gg_news', JSON.stringify(defaultNews));
                return defaultNews;
            }
            return JSON.parse(stored);
        }

        function saveNewsData(data) {
            localStorage.setItem('gg_news', JSON.stringify(data));
        }

        function getNextId() {
            const news = getNews();
            if (news.length === 0) return 1;
            return Math.max(...news.map(n => n.id)) + 1;
        }

        // ============================
        // NAVEGA√á√ÉO
        // ============================
        function navigate(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            window.scrollTo(0, 0);
            document.getElementById('searchInput').value = "";

            if (pageId === 'home') {
                renderNewsCards();
                renderBanner();
            }
            if (pageId === 'dashboard') {
                renderDashboard();
            }
        }

        // ============================
        // RENDERIZAR NOT√çCIAS (Frontend)
        // ============================
        function renderBanner() {
            const news = getNews();
            const featured = news.find(n => n.featured) || news[0];
            if (!featured) return;

            const banner = document.getElementById('mainBanner');
            banner.style.background = `linear-gradient(to top, var(--bg-dark), transparent), url('${featured.image}') center/cover`;
            document.getElementById('bannerTitle').textContent = featured.title;
            document.getElementById('bannerDesc').textContent = featured.description;
            banner.setAttribute('data-id', featured.id);
        }

        function openFeaturedArticle() {
            const banner = document.getElementById('mainBanner');
            const id = parseInt(banner.getAttribute('data-id'));
            openArticle(id);
        }

        function renderNewsCards() {
            const news = getNews();
            const container = document.getElementById('news-container');
            container.innerHTML = '';

            if (news.length === 0) {
                container.innerHTML = '<p style="color: var(--text-muted); text-align: center; grid-column: 1/-1; padding: 3rem;">Nenhuma not√≠cia publicada ainda.</p>';
                return;
            }

            // Ordena por data (mais recente primeiro)
            const sorted = [...news].sort((a, b) => new Date(b.date) - new Date(a.date));

            sorted.forEach(item => {
                const color = categoryColors[item.category] || '#9d4edd';
                const label = categoryLabels[item.category] || item.category;
                const card = document.createElement('div');
                card.className = 'news-card';
                card.setAttribute('data-category', item.category);
                card.innerHTML = `
                    <img src="${item.image}" alt="${item.title}" class="news-img" onerror="this.src='https://via.placeholder.com/600x300/15151a/9d4edd?text=GG+News'">
                    <div class="news-content">
                        <span class="banner-tag" style="background: ${color};">${label}</span>
                        <h3>${item.title}</h3>
                        <p>${item.description}</p>
                        <button class="btn-read" onclick="openArticle(${item.id})">Ler mais</button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // ============================
        // ABRIR ARTIGO
        // ============================
        function openArticle(id) {
            const news = getNews();
            const item = news.find(n => n.id === id);
            if (!item) return;

            const color = categoryColors[item.category] || '#9d4edd';
            const label = categoryLabels[item.category] || item.category;

            document.getElementById('articleTag').textContent = label;
            document.getElementById('articleTag').style.background = color;
            document.getElementById('articleTitle').textContent = item.title;

            const dateFormatted = new Date(item.date + 'T12:00:00').toLocaleDateString('pt-BR', { day: 'numeric', month: 'long', year: 'numeric' });
            document.getElementById('articleMeta').innerHTML = `Por <strong style="color: var(--neon-purple);">Admin GG</strong> | ${dateFormatted}`;
            document.getElementById('articleImg').src = item.image;

            const bodyHtml = item.body.split('\n').filter(p => p.trim()).map(p => `<p>${p}</p>`).join('');
            document.getElementById('articleBody').innerHTML = bodyHtml;

            navigate('article');
        }

        // ============================
        // SHARE
        // ============================
        function shareTwitter() {
            const title = document.getElementById('articleTitle').textContent;
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(title + ' | GG - Global Games')}`);
        }
        function shareWhatsApp() {
            const title = document.getElementById('articleTitle').textContent;
            window.open(`https://wa.me/?text=${encodeURIComponent(title + ' | GG - Global Games')}`);
        }

        // ============================
        // FILTROS E BUSCA
        // ============================
        function filterNews(category, btn) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            if (btn) btn.classList.add('active');

            const cards = document.querySelectorAll('.news-card');
            cards.forEach(card => {
                if (category === 'todos' || card.getAttribute('data-category') === category) {
                    card.style.display = 'block';
                    card.style.animation = 'fadeIn 0.5s ease';
                } else {
                    card.style.display = 'none';
                }
            });
            document.getElementById('searchInput').value = "";
        }

        function searchNews() {
            const input = document.getElementById('searchInput').value.toLowerCase();
            if (input.length > 0) {
                document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
                document.getElementById('home').classList.add('active');
            }
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.news-card').forEach(card => {
                const title = card.querySelector('h3').innerText.toLowerCase();
                const desc = card.querySelector('p').innerText.toLowerCase();
                card.style.display = (title.includes(input) || desc.includes(input)) ? 'block' : 'none';
            });
        }

        // ============================
        // LOGIN / AUTH
        // ============================
        function handleAdminClick() {
            if (isLoggedIn) {
                navigate('dashboard');
            } else {
                openLoginModal();
            }
        }

        function openLoginModal() {
            document.getElementById('loginModal').classList.add('show');
            document.getElementById('loginPassword').value = '';
            document.getElementById('loginError').style.display = 'none';
            setTimeout(() => document.getElementById('loginPassword').focus(), 200);
        }

        function closeLoginModal() {
            document.getElementById('loginModal').classList.remove('show');
        }

        function attemptLogin() {
            const pw = document.getElementById('loginPassword').value;
            if (pw === ADMIN_PASSWORD) {
                isLoggedIn = true;
                closeLoginModal();
                document.getElementById('adminBtn').classList.add('logged');
                document.getElementById('adminBtn').textContent = '‚ö° Dashboard';
                showToast('‚úÖ Login realizado com sucesso!');
                navigate('dashboard');
            } else {
                document.getElementById('loginError').style.display = 'block';
                document.getElementById('loginPassword').value = '';
                document.getElementById('loginPassword').focus();
            }
        }

        function handleLogout() {
            isLoggedIn = false;
            document.getElementById('adminBtn').classList.remove('logged');
            document.getElementById('adminBtn').textContent = '‚öô Admin';
            showToast('Voc√™ saiu do painel');
            navigate('home');
        }

        // ============================
        // DASHBOARD
        // ============================
        function renderDashboard() {
            const news = getNews();

            // Stats
            document.getElementById('statTotal').textContent = news.length;
            document.getElementById('statRoblox').textContent = news.filter(n => n.category === 'roblox').length;
            document.getElementById('statMinecraft').textContent = news.filter(n => n.category === 'minecraft').length;
            document.getElementById('statFortnite').textContent = news.filter(n => n.category === 'fortnite').length;

            // Tabela
            const tbody = document.getElementById('dashTableBody');
            tbody.innerHTML = '';

            if (news.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" class="no-data">Nenhuma not√≠cia cadastrada. Clique em "+ Nova Not√≠cia" para come√ßar!</td></tr>';
                return;
            }

            const sorted = [...news].sort((a, b) => new Date(b.date) - new Date(a.date));

            sorted.forEach(item => {
                const color = categoryColors[item.category] || '#9d4edd';
                const label = categoryLabels[item.category] || item.category;
                const dateStr = new Date(item.date + 'T12:00:00').toLocaleDateString('pt-BR');
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>
                        <span class="featured-star ${item.featured ? '' : 'inactive'}" onclick="toggleFeatured(${item.id})" title="Clique para alternar destaque">
                            ${item.featured ? '‚òÖ' : '‚òÜ'}
                        </span>
                    </td>
                    <td><img src="${item.image}" class="img-preview" onerror="this.src='https://via.placeholder.com/60x40/15151a/9d4edd?text=GG'"></td>
                    <td><strong>${item.title.length > 50 ? item.title.substring(0, 50) + '...' : item.title}</strong></td>
                    <td><span class="cat-badge" style="background: ${color}; color: white;">${label}</span></td>
                    <td style="white-space: nowrap;">${dateStr}</td>
                    <td>
                        <div class="actions-cell">
                            <button class="btn-dash edit" onclick="editNews(${item.id})" style="font-size:0.7rem; padding:5px 10px;">‚úè Editar</button>
                            <button class="btn-dash danger" onclick="deleteNews(${item.id})" style="font-size:0.7rem; padding:5px 10px;">üóë Excluir</button>
                        </div>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // Formul√°rio
        function showForm(editing = false) {
            document.getElementById('newsForm').style.display = 'block';
            if (!editing) {
                document.getElementById('formTitle').textContent = '‚ûï Adicionar Nova Not√≠cia';
                clearForm();
                document.getElementById('inputDate').value = new Date().toISOString().split('T')[0];
            }
            document.getElementById('newsForm').scrollIntoView({ behavior: 'smooth' });
        }

        function hideForm() {
            document.getElementById('newsForm').style.display = 'none';
            clearForm();
        }

        function clearForm() {
            document.getElementById('editingId').value = '';
            document.getElementById('inputTitle').value = '';
            document.getElementById('inputCategory').value = 'roblox';
            document.getElementById('inputImage').value = '';
            document.getElementById('inputDesc').value = '';
            document.getElementById('inputBody').value = '';
            document.getElementById('inputFeatured').value = 'false';
            document.getElementById('inputDate').value = '';
        }

        function saveNews() {
            const title = document.getElementById('inputTitle').value.trim();
            const category = document.getElementById('inputCategory').value;
            const image = document.getElementById('inputImage').value.trim();
            const description = document.getElementById('inputDesc').value.trim();
            const body = document.getElementById('inputBody').value.trim();
            const featured = document.getElementById('inputFeatured').value === 'true';
            const date = document.getElementById('inputDate').value;
            const editingId = document.getElementById('editingId').value;

            // Valida√ß√£o
            if (!title || !description || !body) {
                showToast('‚ùå Preencha t√≠tulo, descri√ß√£o e conte√∫do!', true);
                return;
            }

            let news = getNews();

            // Se marcou como destaque, desmarcar o anterior
            if (featured) {
                news = news.map(n => ({ ...n, featured: false }));
            }

            if (editingId) {
                // Editando
                const idx = news.findIndex(n => n.id === parseInt(editingId));
                if (idx !== -1) {
                    news[idx] = {
                        ...news[idx],
                        title, category,
                        image: image || 'https://via.placeholder.com/600x300/15151a/9d4edd?text=GG+News',
                        description, body, featured,
                        date: date || news[idx].date
                    };
                }
                showToast('‚úÖ Not√≠cia atualizada com sucesso!');
            } else {
                // Nova not√≠cia
                news.push({
                    id: getNextId(),
                    title, category,
                    image: image || 'https://via.placeholder.com/600x300/15151a/9d4edd?text=GG+News',
                    description, body, featured,
                    date: date || new Date().toISOString().split('T')[0]
                });
                showToast('‚úÖ Not√≠cia publicada com sucesso!');
            }

            saveNewsData(news);
            hideForm();
            renderDashboard();
        }

        function editNews(id) {
            const news = getNews();
            const item = news.find(n => n.id === id);
            if (!item) return;

            document.getElementById('editingId').value = item.id;
            document.getElementById('inputTitle').value = item.title;
            document.getElementById('inputCategory').value = item.category;
            document.getElementById('inputImage').value = item.image;
            document.getElementById('inputDesc').value = item.description;
            document.getElementById('inputBody').value = item.body;
            document.getElementById('inputFeatured').value = item.featured ? 'true' : 'false';
            document.getElementById('inputDate').value = item.date;

            document.getElementById('formTitle').textContent = '‚úèÔ∏è Editando: ' + item.title.substring(0, 40) + '...';
            showForm(true);
        }

        function deleteNews(id) {
            if (!confirm('‚ö†Ô∏è Tem certeza que deseja excluir esta not√≠cia? Essa a√ß√£o n√£o pode ser desfeita.')) return;

            let news = getNews();
            news = news.filter(n => n.id !== id);
            saveNewsData(news);
            showToast('üóë Not√≠cia exclu√≠da!');
            renderDashboard();
        }

        function toggleFeatured(id) {
            let news = getNews();
            news = news.map(n => ({
                ...n,
                featured: n.id === id ? !n.featured : false
            }));
            saveNewsData(news);
            showToast('‚≠ê Destaque atualizado!');
            renderDashboard();
        }

        // ============================
        // TOAST NOTIFICATION
        // ============================
        function showToast(message, isError = false) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = 'toast show' + (isError ? ' error' : '');
            setTimeout(() => toast.className = 'toast', 3000);
        }

        // ============================
        // INICIALIZA√á√ÉO
        // ============================
        document.addEventListener('DOMContentLoaded', () => {
            renderNewsCards();
            renderBanner();
        });
    </script>
</body>
</html>
