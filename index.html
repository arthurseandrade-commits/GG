<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GG - Global Games | Not√≠cias de Games e eSports</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* ==========================================================================
           VARI√ÅVEIS DE CORES & TEMA
           ========================================================================== */
        :root {
            --bg-dark: #070709;
            --bg-card: #121217;
            --bg-hover: #1a1a24;
            --neon-purple: #a855f7;
            --neon-purple-glow: rgba(168, 85, 247, 0.4);
            --neon-green: #22c55e;
            --neon-green-glow: rgba(34, 197, 94, 0.4);
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --danger: #ef4444;
            --warning: #f59e0b;
            --border-color: #272732;
        }

        /* ==========================================================================
           RESET & SCROLLBAR
           ========================================================================== */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        html { scroll-behavior: smooth; }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-main);
            line-height: 1.6;
            overflow-x: hidden;
        }

        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-dark); }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--neon-purple); }

        h1, h2, h3, h4, .logo { font-family: 'Orbitron', sans-serif; text-transform: uppercase; letter-spacing: 1px; }
        a { text-decoration: none; color: inherit; cursor: pointer; transition: color 0.3s; }
        ul { list-style: none; }
        button { outline: none; }

        /* ==========================================================================
           HEADER & NAVEGA√á√ÉO
           ========================================================================== */
        header {
            background-color: rgba(7, 7, 9, 0.85);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 1rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
        }
        
        .logo { font-size: 2.2rem; font-weight: 900; color: #fff; cursor: pointer; display: flex; align-items: center;}
        .logo span { color: var(--neon-purple); text-shadow: 0 0 15px var(--neon-purple-glow); }
        
        .nav-links { display: flex; gap: 2rem; align-items: center; font-weight: 600; font-size: 0.95rem; }
        .nav-links li a { position: relative; padding-bottom: 5px; }
        .nav-links li a::after {
            content: ''; position: absolute; width: 0; height: 2px; bottom: 0; left: 0;
            background-color: var(--neon-green); transition: width 0.3s ease;
        }
        .nav-links li a:hover { color: var(--neon-green); }
        .nav-links li a:hover::after { width: 100%; box-shadow: 0 0 10px var(--neon-green-glow); }

        .search-bar {
            padding: 0.7rem 1rem; border-radius: 8px; border: 1px solid var(--border-color);
            background: rgba(255, 255, 255, 0.03); color: #fff; width: 220px; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Inter', sans-serif; font-size: 0.9rem;
        }
        .search-bar:focus { width: 280px; border-color: var(--neon-purple); background: var(--bg-card); box-shadow: 0 0 15px var(--neon-purple-glow); }

        .admin-toggle {
            background: rgba(255,255,255,0.05); border: 1px solid var(--border-color); color: var(--text-muted);
            padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 0.85rem;
            font-family: 'Orbitron', sans-serif; transition: all 0.3s; font-weight: bold; letter-spacing: 1px;
        }
        .admin-toggle:hover { border-color: var(--neon-purple); color: var(--text-main); background: var(--neon-purple-glow); transform: translateY(-2px); }
        .admin-toggle.logged { border-color: var(--neon-green); color: var(--neon-green); background: rgba(34, 197, 94, 0.1); }

        /* ==========================================================================
           LAYOUT GERAL
           ========================================================================== */
        .container { max-width: 1280px; margin: 0 auto; padding: 2rem 5%; min-height: 85vh; }
        .page { display: none; opacity: 0; transform: translateY(20px); transition: opacity 0.4s ease, transform 0.4s ease; }
        .page.active { display: block; opacity: 1; transform: translateY(0); animation: slideUp 0.5s ease forwards; }
        
        @keyframes slideUp { to { opacity: 1; transform: translateY(0); } }

        /* ==========================================================================
           HOME: BANNER & DESTAQUE
           ========================================================================== */
        .banner {
            height: 450px; border-radius: 16px; display: flex; flex-direction: column;
            justify-content: flex-end; padding: 3rem; margin-bottom: 3rem; position: relative;
            background: linear-gradient(to top, #070709 5%, rgba(7,7,9,0.2) 60%), url('') center/cover;
            border: 1px solid rgba(255,255,255,0.05);
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            overflow: hidden;
        }
        .banner::before { /* Glow effect inner */
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            box-shadow: inset 0 0 50px rgba(168, 85, 247, 0.2); pointer-events: none;
        }
        .banner-tag {
            background: var(--neon-purple); color: #fff; padding: 6px 14px; font-weight: 900;
            border-radius: 4px; display: inline-block; margin-bottom: 15px; font-size: 0.8rem;
            letter-spacing: 2px; text-transform: uppercase; box-shadow: 0 0 15px var(--neon-purple-glow);
        }
        .banner h1 { font-size: 3rem; margin-bottom: 15px; text-shadow: 2px 4px 10px rgba(0,0,0,0.8); max-width: 900px; line-height: 1.2; }
        .banner p { font-size: 1.1rem; color: #cbd5e1; max-width: 700px; text-shadow: 1px 2px 5px rgba(0,0,0,0.8); margin-bottom: 25px; }

        /* ==========================================================================
           HOME: FILTROS E GRID DE NOT√çCIAS
           ========================================================================== */
        .filters { display: flex; gap: 12px; margin-bottom: 2.5rem; flex-wrap: wrap; }
        .filter-btn {
            background: var(--bg-card); color: var(--text-muted); border: 1px solid var(--border-color);
            padding: 10px 20px; border-radius: 8px; font-family: 'Orbitron', sans-serif; font-size: 0.85rem;
            cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); font-weight: 600;
        }
        .filter-btn:hover { color: var(--text-main); border-color: var(--text-muted); transform: translateY(-2px); }
        .filter-btn.active {
            background: var(--neon-purple); color: white; border-color: var(--neon-purple);
            box-shadow: 0 5px 15px var(--neon-purple-glow); transform: translateY(-2px);
        }

        .section-title { 
            font-size: 2rem; border-left: 5px solid var(--neon-green); 
            padding-left: 15px; margin-bottom: 2rem; display: flex; align-items: center; gap: 10px;
        }

        .news-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 2rem; }
        .news-card {
            background: var(--bg-card); border-radius: 12px; overflow: hidden;
            border: 1px solid var(--border-color); transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex; flex-direction: column; cursor: pointer;
        }
        .news-card:hover { 
            transform: translateY(-10px) scale(1.02); 
            border-color: var(--neon-purple); 
            box-shadow: 0 15px 30px var(--neon-purple-glow); 
        }
        .news-card:hover .news-img { transform: scale(1.05); }
        
        .news-img-wrapper { width: 100%; height: 200px; overflow: hidden; }
        .news-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease; background-color: #222; }
        
        .news-content { padding: 1.5rem; flex-grow: 1; display: flex; flex-direction: column; }
        .news-content h3 { font-size: 1.3rem; margin: 15px 0 10px; line-height: 1.4; color: var(--text-main); transition: color 0.3s; }
        .news-card:hover .news-content h3 { color: var(--neon-green); }
        .news-content p { color: var(--text-muted); font-size: 0.95rem; margin-bottom: 20px; line-height: 1.5; flex-grow: 1; }
        
        .btn-read {
            align-self: flex-start; background: transparent; color: var(--neon-green); 
            border: 2px solid var(--neon-green); padding: 10px 20px; border-radius: 6px; 
            font-family: 'Orbitron', sans-serif; font-weight: 700; transition: all 0.3s; 
            cursor: pointer; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px;
        }
        .btn-read:hover { background: var(--neon-green); color: var(--bg-dark); box-shadow: 0 0 20px var(--neon-green-glow); }

        /* ==========================================================================
           P√ÅGINA DO ARTIGO
           ========================================================================== */
        .btn-back { margin-bottom: 2rem; display: inline-block;}
        .article-container { max-width: 900px; margin: 0 auto; }
        .article-header { text-align: center; margin-bottom: 2rem; }
        .article-header h1 { font-size: 3.5rem; margin: 15px 0; color: var(--text-main); line-height: 1.2; text-transform: none; font-family: 'Inter', sans-serif; font-weight: 900; }
        .article-meta { color: var(--text-muted); font-size: 1rem; margin-bottom: 25px; display: flex; justify-content: center; gap: 15px; align-items: center; }
        
        .article-hero-img { width: 100%; max-height: 550px; object-fit: cover; border-radius: 16px; margin-bottom: 3rem; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        
        .article-body { font-size: 1.15rem; color: #cbd5e1; margin-bottom: 4rem; line-height: 1.8; }
        .article-body p { margin-bottom: 1.5rem; }
        .article-body strong { color: #fff; font-weight: 600; }
        
        .share-section { border-top: 1px solid var(--border-color); border-bottom: 1px solid var(--border-color); padding: 2rem 0; margin-bottom: 3rem; display: flex; align-items: center; justify-content: space-between;}
        .share-buttons { display: flex; gap: 15px; }
        .share-btn { padding: 12px 24px; border-radius: 8px; font-weight: bold; border: none; cursor: pointer; color: white; display: flex; align-items: center; gap: 8px; transition: 0.3s; font-family: 'Inter', sans-serif;}
        .share-btn:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .bg-twitter { background: #1DA1F2; } .bg-zap { background: #25D366; }

        .comments-section { background: var(--bg-card); padding: 2.5rem; border-radius: 12px; border: 1px solid var(--border-color); box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .comments-section textarea {
            width: 100%; padding: 15px; background: rgba(0,0,0,0.3); color: white;
            border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 15px;
            resize: vertical; font-family: 'Inter', sans-serif; transition: 0.3s; font-size: 1rem;
        }
        .comments-section textarea:focus { border-color: var(--neon-purple); outline: none; box-shadow: 0 0 10px var(--neon-purple-glow); }

        /* ==========================================================================
           SOBRE
           ========================================================================== */
        .about-box { 
            background: linear-gradient(145deg, var(--bg-card), #0f0f13); padding: 5rem 3rem; 
            border-radius: 20px; text-align: center; border-top: 5px solid var(--neon-purple); 
            box-shadow: 0 20px 50px rgba(0,0,0,0.5); border-bottom: 1px solid var(--border-color);
        }
        .about-box .logo { justify-content: center; font-size: 4rem; margin-bottom: 1rem; }

        /* ==========================================================================
           MODAL LOGIN
           ========================================================================== */
        .modal-overlay {
            display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.9); z-index: 9999; justify-content: center; align-items: center;
            backdrop-filter: blur(5px);
        }
        .modal-overlay.show { display: flex; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .modal-box {
            background: var(--bg-card); border: 2px solid var(--neon-purple); border-radius: 16px;
            padding: 3rem; max-width: 420px; width: 90%; text-align: center;
            box-shadow: 0 0 50px var(--neon-purple-glow); transform: scale(0.9); transition: transform 0.3s;
        }
        .modal-overlay.show .modal-box { transform: scale(1); }
        .modal-box h2 { color: var(--text-main); margin-bottom: 0.5rem; font-size: 1.8rem; letter-spacing: 2px; }
        .modal-box p { color: var(--text-muted); margin-bottom: 2rem; font-size: 0.95rem; }
        
        .modal-input {
            width: 100%; padding: 15px; background: rgba(0,0,0,0.5); border: 1px solid var(--border-color);
            border-radius: 8px; color: white; font-size: 1.2rem; margin-bottom: 1rem; outline: none;
            text-align: center; letter-spacing: 5px; font-family: 'Orbitron', sans-serif; transition: 0.3s;
        }
        .modal-input:focus { border-color: var(--neon-purple); box-shadow: inset 0 0 10px var(--neon-purple-glow); }
        .modal-error { color: var(--danger); font-size: 0.9rem; margin-bottom: 1.5rem; display: none; font-weight: bold; background: rgba(239, 68, 68, 0.1); padding: 10px; border-radius: 6px; }
        
        .modal-btns { display: flex; gap: 15px; }
        .modal-btn {
            flex: 1; padding: 14px; border: none; border-radius: 8px;
            font-family: 'Orbitron', sans-serif; font-size: 0.9rem; cursor: pointer; transition: all 0.3s; font-weight: bold; text-transform: uppercase;
        }
        .modal-btn.primary { background: var(--neon-purple); color: white; }
        .modal-btn.primary:hover { box-shadow: 0 0 20px var(--neon-purple-glow); transform: translateY(-2px); }
        .modal-btn.secondary { background: transparent; color: var(--text-muted); border: 1px solid var(--border-color); }
        .modal-btn.secondary:hover { background: rgba(255,255,255,0.05); color: white; }

        /* ==========================================================================
           DASHBOARD
           ========================================================================== */
        .dash-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2.5rem; flex-wrap: wrap; gap: 1.5rem; border-bottom: 1px solid var(--border-color); padding-bottom: 1.5rem; }
        .dash-header h2 { color: var(--text-main); font-size: 2.2rem; text-transform: none; font-family: 'Inter', sans-serif; font-weight: 900;}
        .dash-header h2 span { color: var(--neon-purple); }

        /* Tabs */
        .dash-tabs { display: flex; gap: 10px; margin-bottom: 2.5rem; }
        .dash-tab {
            padding: 12px 24px; background: var(--bg-card); border: 1px solid var(--border-color); color: var(--text-muted);
            font-family: 'Orbitron', sans-serif; font-size: 0.9rem; cursor: pointer;
            border-radius: 8px; transition: all 0.3s; font-weight: bold; letter-spacing: 1px;
        }
        .dash-tab:hover { background: rgba(255,255,255,0.05); color: var(--text-main); }
        .dash-tab.active { background: var(--neon-purple); color: white; border-color: var(--neon-purple); box-shadow: 0 5px 15px var(--neon-purple-glow); }
        
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.4s ease; }

        /* Stats */
        .dash-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 3rem; }
        .stat-card {
            background: linear-gradient(145deg, var(--bg-card), rgba(255,255,255,0.02)); border: 1px solid var(--border-color);
            border-radius: 12px; padding: 2rem; text-align: center; box-shadow: 0 10px 20px rgba(0,0,0,0.2); transition: 0.3s;
        }
        .stat-card:hover { transform: translateY(-5px); border-color: rgba(255,255,255,0.1); }
        .stat-card .stat-number { font-family: 'Orbitron', sans-serif; font-size: 3rem; font-weight: 900; color: var(--neon-green); line-height: 1; text-shadow: 0 0 15px var(--neon-green-glow); }
        .stat-card .stat-label { color: var(--text-muted); font-size: 0.9rem; margin-top: 10px; text-transform: uppercase; letter-spacing: 1px; font-weight: bold; }

        /* Forms */
        .dash-form {
            background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 16px;
            padding: 2.5rem; margin-bottom: 3rem; border-top: 4px solid var(--neon-purple); box-shadow: 0 15px 30px rgba(0,0,0,0.3);
        }
        .dash-form h3 { color: var(--text-main); margin-bottom: 2rem; font-size: 1.5rem; display: flex; align-items: center; gap: 10px; }
        
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
        .form-group { display: flex; flex-direction: column; gap: 8px; }
        .form-group.full { grid-column: 1 / -1; }
        .form-group label { font-size: 0.85rem; color: var(--text-muted); font-family: 'Inter', sans-serif; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; }
        
        .form-group input, .form-group select, .form-group textarea {
            padding: 12px 16px; background: rgba(0,0,0,0.2); border: 1px solid var(--border-color);
            border-radius: 8px; color: white; font-size: 1rem; outline: none;
            font-family: 'Inter', sans-serif; transition: all 0.3s;
        }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            border-color: var(--neon-purple); box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.2); background: var(--bg-dark);
        }
        .form-group textarea { resize: vertical; min-height: 150px; line-height: 1.6; }
        .form-group select option { background: var(--bg-card); color: white; }
        
        .form-actions { display: flex; gap: 15px; margin-top: 2.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border-color); }

        /* Buttons Generics */
        .btn-dash {
            padding: 12px 24px; border: none; border-radius: 8px; font-weight: bold;
            font-family: 'Orbitron', sans-serif; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; text-transform: uppercase; letter-spacing: 1px; display: inline-flex; align-items: center; justify-content: center; gap: 8px;
        }
        .btn-dash.save { background: var(--neon-green); color: var(--bg-dark); }
        .btn-dash.save:hover { box-shadow: 0 0 20px var(--neon-green-glow); transform: translateY(-2px); }
        .btn-dash.cancel { background: transparent; color: var(--text-muted); border: 1px solid var(--border-color); }
        .btn-dash.cancel:hover { border-color: var(--text-main); color: var(--text-main); }
        .btn-dash.danger { background: rgba(239, 68, 68, 0.1); color: var(--danger); border: 1px solid var(--danger); }
        .btn-dash.danger:hover { background: var(--danger); color: white; box-shadow: 0 0 15px rgba(239, 68, 68, 0.4); transform: translateY(-2px); }
        .btn-dash.edit { background: rgba(245, 158, 11, 0.1); color: var(--warning); border: 1px solid var(--warning); }
        .btn-dash.edit:hover { background: var(--warning); color: var(--bg-dark); box-shadow: 0 0 15px rgba(245, 158, 11, 0.4); transform: translateY(-2px); }
        .btn-dash.new { background: var(--neon-purple); color: white; }
        .btn-dash.new:hover { box-shadow: 0 0 20px var(--neon-purple-glow); transform: translateY(-2px); }

        /* Tables */
        .dash-table-wrapper { overflow-x: auto; background: var(--bg-card); border-radius: 12px; border: 1px solid var(--border-color); box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        .dash-table { width: 100%; border-collapse: collapse; text-align: left; }
        .dash-table th {
            background: rgba(255,255,255,0.02); color: var(--text-muted); font-family: 'Orbitron', sans-serif;
            font-size: 0.75rem; padding: 16px 20px; text-transform: uppercase; letter-spacing: 1px; border-bottom: 2px solid var(--border-color);
        }
        .dash-table td { padding: 16px 20px; border-bottom: 1px solid var(--border-color); font-size: 0.95rem; vertical-align: middle; }
        .dash-table tr:last-child td { border-bottom: none; }
        .dash-table tr:hover td { background: rgba(255,255,255,0.02); }
        
        .cat-badge { padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; display: inline-block; letter-spacing: 0.5px; }
        .actions-cell { display: flex; gap: 8px; flex-wrap: wrap; }
        .featured-star { color: var(--neon-green); font-size: 1.5rem; cursor: pointer; transition: 0.2s; display: inline-block;}
        .featured-star:hover { transform: scale(1.2); }
        .featured-star.inactive { color: var(--border-color); }
        .featured-star.inactive:hover { color: var(--text-muted); }
        
        .img-preview { width: 80px; height: 50px; object-fit: cover; border-radius: 6px; border: 1px solid var(--border-color); }
        .no-data { text-align: center; padding: 4rem !important; color: var(--text-muted); font-size: 1.1rem;}

        /* Category Grid */
        .color-row { display: flex; align-items: center; gap: 15px; }
        .color-row input[type="color"] {
            width: 60px; height: 45px; border: 1px solid var(--border-color); border-radius: 8px;
            background: rgba(0,0,0,0.2); cursor: pointer; padding: 4px;
        }
        .color-row input[type="text"] { flex: 1; text-transform: uppercase; font-family: monospace; letter-spacing: 1px; }
        
        .cat-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1.5rem; margin-top: 1rem; }
        .cat-card {
            background: linear-gradient(145deg, var(--bg-card), rgba(255,255,255,0.02)); border: 1px solid var(--border-color); border-radius: 12px;
            padding: 1.5rem; display: flex; flex-direction: column; gap: 15px; transition: 0.3s; position: relative;
        }
        .cat-card:hover { border-color: var(--neon-purple); transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.3); }
        .cat-card-header { display: flex; align-items: center; gap: 15px; }
        .cat-card-color { width: 50px; height: 50px; border-radius: 12px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; box-shadow: inset 0 0 10px rgba(0,0,0,0.5); }
        .cat-card-info h4 { font-size: 1.1rem; font-family: 'Inter', sans-serif; font-weight: 800; text-transform: none; margin-bottom: 2px;}
        .cat-card-info small { color: var(--text-muted); font-size: 0.8rem; font-family: monospace;}
        .cat-card-actions { display: flex; gap: 10px; margin-top: auto; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.05); }
        .cat-card-count {
            position: absolute; top: 15px; right: 15px; background: rgba(0,0,0,0.5); border: 1px solid var(--border-color);
            padding: 4px 10px; border-radius: 20px; font-size: 0.75rem; color: var(--text-main); font-weight: bold;
        }

        /* ==========================================================================
           FOOTER & TOAST
           ========================================================================== */
        footer { 
            background: #040405; text-align: center; padding: 3rem 2rem; 
            border-top: 1px solid var(--border-color); margin-top: auto; 
            background-image: linear-gradient(to top, rgba(168, 85, 247, 0.05), transparent);
        }
        
        .toast {
            position: fixed; bottom: 40px; right: 40px; background: var(--bg-card); color: var(--text-main);
            padding: 16px 24px; border-radius: 12px; font-family: 'Inter', sans-serif; border-left: 5px solid var(--neon-green);
            font-size: 0.95rem; font-weight: 600; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            z-index: 10000; transform: translateX(120%); opacity: 0; transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: flex; align-items: center; gap: 10px;
        }
        .toast.show { transform: translateX(0); opacity: 1; }
        .toast.error { border-left-color: var(--danger); }

        /* ==========================================================================
           RESPONSIVIDADE
           ========================================================================== */
        @media (max-width: 900px) {
            .form-grid { grid-template-columns: 1fr; }
            .banner h1 { font-size: 2.2rem; }
        }
        @media (max-width: 768px) {
            header { flex-direction: column; gap: 1.5rem; padding: 1.5rem; }
            .nav-links { flex-wrap: wrap; justify-content: center; gap: 1rem; width: 100%;}
            .search-bar { width: 100%; }
            .search-bar:focus { width: 100%; }
            .banner { height: auto; min-height: 350px; padding: 2rem; }
            .article-header h1 { font-size: 2.2rem; }
            .dash-header { flex-direction: column; align-items: flex-start; }
            .dash-tabs { flex-wrap: wrap; }
            .dash-tab { flex: 1; text-align: center; }
            .share-section { flex-direction: column; gap: 20px; text-align: center;}
        }
    </style>
</head>
<body>

    <header>
        <div class="logo" onclick="navigate('home')">GG<span>.</span></div>
        <ul class="nav-links" id="navLinks">
            <!-- Links gerados via JS -->
        </ul>
        <input type="text" id="searchInput" class="search-bar" placeholder="Buscar game ou not√≠cia..." onkeyup="searchNews()">
    </header>

    <div id="loginModal" class="modal-overlay">
        <div class="modal-box">
            <h2>üîí Acesso Restrito</h2>
            <p>Insira a credencial de administrador</p>
            <input type="password" id="loginPassword" class="modal-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" onkeydown="if(event.key==='Enter') attemptLogin()">
            <p id="loginError" class="modal-error">Acesso Negado. Tente novamente.</p>
            <div class="modal-btns">
                <button class="modal-btn secondary" onclick="closeLoginModal()">Cancelar</button>
                <button class="modal-btn primary" onclick="attemptLogin()">Autenticar</button>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- =================== HOME =================== -->
        <main id="home" class="page active">
            <div class="banner" id="mainBanner">
                <div>
                    <span class="banner-tag">Destaque Principal</span>
                    <h1 id="bannerTitle">Iniciando Servidores...</h1>
                    <p id="bannerDesc">Carregando as √∫ltimas atualiza√ß√µes do mundo gamer para voc√™.</p>
                    <button class="btn-read" onclick="openFeaturedArticle()" style="margin-top: 10px;">Acessar Mat√©ria</button>
                </div>
            </div>
            
            <div class="filters" id="filtersContainer">
                <!-- Filtros gerados via JS -->
            </div>
            
            <h2 class="section-title">Radar Gamer</h2>
            <div class="news-grid" id="news-container">
                <!-- Cards gerados via JS -->
            </div>
        </main>

        <!-- =================== ARTIGO =================== -->
        <main id="article" class="page">
            <div class="article-container">
                <div class="btn-back"><button class="btn-read" onclick="navigate('home')">‚Üê Retornar ao In√≠cio</button></div>
                
                <div class="article-header">
                    <span class="banner-tag" id="articleTag">Categoria</span>
                    <h1 id="articleTitle">T√≠tulo da Mat√©ria</h1>
                    <div class="article-meta" id="articleMeta"></div>
                </div>
                
                <img id="articleImg" src="" alt="Capa do Artigo" class="article-hero-img">
                
                <div class="article-body" id="articleBody">
                    <!-- Conte√∫do gerado via JS -->
                </div>
                
                <div class="share-section">
                    <h3 style="margin: 0; font-size: 1.2rem;">Compartilhe o drop:</h3>
                    <div class="share-buttons">
                        <button class="share-btn bg-twitter" onclick="shareTwitter()">ùïè Postar</button>
                        <button class="share-btn bg-zap" onclick="shareWhatsApp()">üí¨ Enviar</button>
                    </div>
                </div>
                
                <div class="comments-section">
                    <h3 style="margin-bottom:1.5rem; border-bottom: 1px solid var(--border-color); padding-bottom: 10px;">Log de Coment√°rios</h3>
                    <textarea rows="4" placeholder="Deixe sua opini√£o sobre essa att..."></textarea>
                    <button class="btn-dash save">Postar Coment√°rio</button>
                </div>
            </div>
        </main>

        <!-- =================== SOBRE =================== -->
        <main id="about" class="page">
            <div class="about-box">
                <div class="logo">GG<span>.</span></div>
                <h2 style="color:var(--text-main);margin-bottom:1.5rem; font-size: 2rem;">GLOBAL GAMES</h2>
                <p style="font-size:1.2rem;color:var(--text-muted);max-width:800px;margin:0 auto; line-height: 1.8;">
                    O <strong>GG ‚Äì Global Games</strong> √© a sua base definitiva para intel sobre jogos, patch notes, eSports e hardwares. Operamos 24/7 para garantir que voc√™ n√£o perca nenhum frame das novidades. Se roda em uma tela, n√≥s cobrimos.
                </p>
            </div>
        </main>

        <!-- =================== DASHBOARD ADMIN =================== -->
        <main id="dashboard" class="page">
            <div class="dash-header">
                <div>
                    <h2><span>‚ö°</span> Central de Comando</h2>
                    <p style="color:var(--text-muted);font-size:0.95rem; margin-top: 5px;">Gerenciamento de banco de dados do portal</p>
                </div>
                <div>
                    <button class="btn-dash cancel" onclick="handleLogout()">Encerrar Sess√£o üö™</button>
                </div>
            </div>

            <div class="dash-stats" id="dashStats">
                <!-- Stats via JS -->
            </div>

            <div class="dash-tabs">
                <button class="dash-tab active" onclick="switchTab('tabNews', this)">üì∞ Postagens</button>
                <button class="dash-tab" onclick="switchTab('tabCategories', this)">üè∑Ô∏è Categorias (Tags)</button>
            </div>

            <!-- TABS: NOT√çCIAS -->
            <div id="tabNews" class="tab-content active">
                <div style="margin-bottom:2rem;">
                    <button class="btn-dash new" onclick="showNewsForm()">+ Nova Publica√ß√£o</button>
                </div>

                <div class="dash-form" id="newsForm" style="display:none;">
                    <h3 id="newsFormTitle">Criar Nova Publica√ß√£o</h3>
                    <input type="hidden" id="editingNewsId">
                    <div class="form-grid">
                        <div class="form-group full">
                            <label>Manchete (T√≠tulo)</label>
                            <input type="text" id="inputTitle" placeholder="Ex: Novo passe de batalha revelado!">
                        </div>
                        <div class="form-group">
                            <label>Categoria Principal</label>
                            <select id="inputCategory"></select>
                        </div>
                        <div class="form-group">
                            <label>URL da Thumbnail</label>
                            <input type="text" id="inputImage" placeholder="https://...">
                        </div>
                        <div class="form-group full">
                            <label>Lead (Resumo do Card)</label>
                            <input type="text" id="inputDesc" placeholder="Uma frase chamativa para o card inicial...">
                        </div>
                        <div class="form-group full">
                            <label>Corpo da Mat√©ria (Use quebras de linha para par√°grafos)</label>
                            <textarea id="inputBody" placeholder="Desenvolva o texto completo aqui..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Status: Hero Banner?</label>
                            <select id="inputFeatured">
                                <option value="false">Padr√£o</option>
                                <option value="true">‚òÖ Definir como Destaque Principal</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Data de Publica√ß√£o</label>
                            <input type="date" id="inputDate">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn-dash save" onclick="saveNews()">Gravar no Banco de Dados</button>
                        <button class="btn-dash cancel" onclick="hideNewsForm()">Descartar Edi√ß√£o</button>
                    </div>
                </div>

                <div class="dash-table-wrapper">
                    <table class="dash-table">
                        <thead>
                            <tr>
                                <th style="width: 50px; text-align: center;">Hero</th>
                                <th style="width: 100px;">Thumb</th>
                                <th>Manchete</th>
                                <th>Tag</th>
                                <th>Data</th>
                                <th style="width: 200px;">Comandos</th>
                            </tr>
                        </thead>
                        <tbody id="dashNewsBody"></tbody>
                    </table>
                </div>
            </div>

            <!-- TABS: CATEGORIAS -->
            <div id="tabCategories" class="tab-content">
                <div style="margin-bottom:2rem;">
                    <button class="btn-dash new" onclick="showCatForm()">+ Nova Tag</button>
                </div>

                <div class="dash-form" id="catForm" style="display:none;">
                    <h3 id="catFormTitle">Configurar Tag (Categoria)</h3>
                    <input type="hidden" id="editingCatId">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Nome Vis√≠vel</label>
                            <input type="text" id="catName" placeholder="Ex: eSports">
                        </div>
                        <div class="form-group">
                            <label>Slug (Identificador na URL)</label>
                            <input type="text" id="catSlug" placeholder="Ex: esports" oninput="this.value=this.value.toLowerCase().replace(/[^a-z0-9-]/g,'')">
                        </div>
                        <div class="form-group">
                            <label>Esquema de Cor</label>
                            <div class="color-row">
                                <input type="color" id="catColor" value="#a855f7" oninput="document.getElementById('catColorText').value=this.value">
                                <input type="text" id="catColorText" value="#a855f7" placeholder="#hex" oninput="document.getElementById('catColor').value=this.value">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>√çcone / Emoji</label>
                            <input type="text" id="catIcon" placeholder="üèÜ" maxlength="2" style="font-size:1.5rem;text-align:center;">
                        </div>
                        <div class="form-group">
                            <label>Exibir na Navbar Header?</label>
                            <select id="catShowNav">
                                <option value="true">‚úÖ Vis√≠vel</option>
                                <option value="false">Oculto</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Exibir na barra de Filtros?</label>
                            <select id="catShowFilter">
                                <option value="true">‚úÖ Vis√≠vel</option>
                                <option value="false">Oculto</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn-dash save" onclick="saveCategory()">Gravar Tag</button>
                        <button class="btn-dash cancel" onclick="hideCatForm()">Descartar Edi√ß√£o</button>
                    </div>
                </div>

                <div class="cat-grid" id="catGrid"></div>
            </div>
        </main>
    </div>

    <footer>
        <div class="logo" style="justify-content: center; font-size: 1.8rem; margin-bottom: 10px;">GG<span>.</span></div>
        <p style="color:var(--text-muted); font-size: 0.9rem;">&copy; 2024 GG - Global Games. Transmitindo em todas as frequ√™ncias.</p>
    </footer>

    <div id="toast" class="toast">Notifica√ß√£o do Sistema</div>

    <script>
        // ==========================================
        // CONFIGURA√á√ïES BASE
        // ==========================================
        const ADMIN_PASSWORD = "gg"; // Senha padr√£o para acesso
        let isLoggedIn = false;

        // ==========================================
        // BANCO DE DADOS: CATEGORIAS
        // ==========================================
        const defaultCategories = [
            { id: 1, name: "Roblox",    slug: "roblox",    color: "#ef4444", icon: "üü•", showNav: true,  showFilter: true,  isDefault: true },
            { id: 2, name: "Minecraft", slug: "minecraft", color: "#10b981", icon: "‚õèÔ∏è", showNav: false, showFilter: true,  isDefault: true },
            { id: 3, name: "Fortnite",  slug: "fortnite",  color: "#3b82f6", icon: "üöå", showNav: false, showFilter: true,  isDefault: true },
            { id: 4, name: "Hardware",  slug: "hardware",  color: "#a855f7", icon: "‚å®Ô∏è", showNav: false, showFilter: true,  isDefault: true },
            { id: 5, name: "eSports",   slug: "esports",   color: "#f59e0b", icon: "üèÜ", showNav: false, showFilter: true,  isDefault: true },
            { id: 6, name: "Geral",     slug: "geral",     color: "#64748b", icon: "üì∞", showNav: false, showFilter: false, isDefault: true }
        ];

        function getCategories() {
            const stored = localStorage.getItem('gg_v2_categories');
            if (!stored) {
                localStorage.setItem('gg_v2_categories', JSON.stringify(defaultCategories));
                return JSON.parse(JSON.stringify(defaultCategories));
            }
            return JSON.parse(stored);
        }

        function saveCategoriesData(data) {
            localStorage.setItem('gg_v2_categories', JSON.stringify(data));
        }

        function getCatNextId() {
            const cats = getCategories();
            return cats.length === 0 ? 1 : Math.max(...cats.map(c => c.id)) + 1;
        }

        function getCatBySlug(slug) { return getCategories().find(c => c.slug === slug); }
        function getCatColor(slug) { const c = getCatBySlug(slug); return c ? c.color : '#64748b'; }
        function getCatLabel(slug) { const c = getCatBySlug(slug); return c ? c.name : slug; }

        // ==========================================
        // BANCO DE DADOS: NOT√çCIAS
        // ==========================================
        const defaultNews = [
            {
                id: 1,
                title: "Fortnite: O.G. Season quebra recorde simult√¢neo na Twitch",
                category: "fortnite",
                image: "https://images.unsplash.com/photo-1542751371-adc38448a05e?q=80&w=2070",
                description: "O retorno ao mapa cl√°ssico trouxe milh√µes de veteranos de volta aos servidores da Epic.",
                body: "A Epic Games acertou em cheio na nostalgia. Na manh√£ desta quinta-feira, a nova temporada 'O.G.', que traz de volta o mapa original do Cap√≠tulo 1, registrou mais de 5 milh√µes de jogadores simult√¢neos.\n\nAl√©m de locais ic√¥nicos como as Torres Tortas, mec√¢nicas cl√°ssicas de armas e cura foram restauradas, embora a aus√™ncia de sprint t√°tico tenha dividido a comunidade competitiva.\n\nEspecialistas preveem que este final de semana bater√° todos os recordes hist√≥ricos da empresa em receita e engajamento.",
                featured: true,
                date: "2024-10-24"
            },
            {
                id: 2,
                title: "Blox Fruits: C√≥digos v20.0 e a nova fruta m√≠tica",
                category: "roblox",
                image: "https://images.unsplash.com/photo-1607853202273-797f1c22a38e?q=80&w=600",
                description: "Desenvolvedores liberaram lote massivo de reset stats e 2x XP.",
                body: "O aguardado update v20.0 finalmente dropou nos servidores. Focado em rebalanceamento naval e introdu√ß√£o da fruta 'Kitsune', o meta do jogo mudou drasticamente.\n\nPara comemorar, os devs soltaram 5 novos c√≥digos de Double XP. Lembre-se de acessar o menu lateral no jogo para resgatar antes que expirem em 48 horas.",
                featured: false,
                date: "2024-10-23"
            },
            {
                id: 3,
                title: "Novo sensor 8K Hz vira padr√£o em mouses competitivos",
                category: "hardware",
                image: "https://images.unsplash.com/photo-1538481199705-c710c4e965fc?q=80&w=600",
                description: "Testamos se o polling rate absurdo realmente faz diferen√ßa no Valorant.",
                body: "A nova corrida armamentista dos perif√©ricos n√£o √© mais sobre DPI, mas sim Polling Rate. Modelos recentes est√£o adotando 8000Hz como padr√£o.\n\nNos nossos testes de laborat√≥rio em pareamento com monitores de 360Hz, a lat√™ncia de clique caiu para submilisegundos. A pergunta que fica √©: o jogador m√©dio consegue notar a diferen√ßa? Spoiler: sim, mas o custo em CPU √© alto.",
                featured: false,
                date: "2024-10-21"
            }
        ];

        function getNews() {
            const stored = localStorage.getItem('gg_v2_news');
            if (!stored) {
                localStorage.setItem('gg_v2_news', JSON.stringify(defaultNews));
                return JSON.parse(JSON.stringify(defaultNews));
            }
            return JSON.parse(stored);
        }

        function saveNewsData(data) { localStorage.setItem('gg_v2_news', JSON.stringify(data)); }
        function getNewsNextId() { const news = getNews(); return news.length === 0 ? 1 : Math.max(...news.map(n => n.id)) + 1; }

        // ==========================================
        // ROTAS & RENDERIZA√á√ÉO PRINCIPAL
        // ==========================================
        function navigate(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
            document.getElementById('searchInput').value = "";
            if (pageId === 'home') renderHome();
            if (pageId === 'dashboard') renderDashboard();
        }

        function renderHome() {
            renderFilters();
            renderBanner();
            renderNewsCards();
        }

        function renderFilters() {
            const cats = getCategories().filter(c => c.showFilter);
            const container = document.getElementById('filtersContainer');
            container.innerHTML = `<button class="filter-btn active" onclick="filterNews('todos', this)">Todas as Tags</button>`;
            cats.forEach(cat => {
                container.innerHTML += `<button class="filter-btn" onclick="filterNews('${cat.slug}', this)">${cat.name}</button>`;
            });
        }

        function renderNavLinks() {
            const cats = getCategories().filter(c => c.showNav);
            const nav = document.getElementById('navLinks');
            let html = `<li><a onclick="navigate('home')">P√°gina Inicial</a></li>`;
            cats.forEach(cat => {
                html += `<li><a onclick="navigate('home'); setTimeout(()=>filterNews('${cat.slug}', document.querySelector('.filter-btn')),100)">${cat.name}</a></li>`;
            });
            html += `<li><a onclick="navigate('about')">Miss√£o GG</a></li>`;
            html += `<li><button id="adminBtn" class="admin-toggle ${isLoggedIn ? 'logged' : ''}" onclick="handleAdminClick()">
                ${isLoggedIn ? 'üõ°Ô∏è Dashboard' : 'üîë Admin'}
            </button></li>`;
            nav.innerHTML = html;
        }

        function renderBanner() {
            const news = getNews();
            const featured = news.find(n => n.featured) || news[0];
            const banner = document.getElementById('mainBanner');
            
            if (!featured) {
                document.getElementById('bannerTitle').textContent = 'Sinal Perdido.';
                document.getElementById('bannerDesc').textContent = 'Nenhuma transmiss√£o encontrada no banco de dados.';
                banner.style.background = `var(--bg-card)`;
                return;
            }
            
            banner.style.background = `linear-gradient(to top, #070709 5%, rgba(7,7,9,0.2) 60%), url('${featured.image}') center/cover`;
            document.getElementById('bannerTitle').textContent = featured.title;
            document.getElementById('bannerDesc').textContent = featured.description;
            banner.setAttribute('data-id', featured.id);
        }

        function openFeaturedArticle() {
            const id = parseInt(document.getElementById('mainBanner').getAttribute('data-id'));
            if (id) openArticle(id);
        }

        function renderNewsCards() {
            const news = getNews();
            const container = document.getElementById('news-container');
            container.innerHTML = '';
            
            if (news.length === 0) {
                container.innerHTML = '<p class="no-data" style="grid-column:1/-1;">Sem registros encontrados no banco de dados.</p>';
                return;
            }
            
            const sorted = [...news].sort((a, b) => new Date(b.date) - new Date(a.date));
            sorted.forEach(item => {
                const color = getCatColor(item.category);
                const label = getCatLabel(item.category);
                
                const card = document.createElement('div');
                card.className = 'news-card';
                card.setAttribute('data-category', item.category);
                card.onclick = () => openArticle(item.id);
                
                card.innerHTML = `
                    <div class="news-img-wrapper">
                        <img src="${item.image}" alt="${item.title}" class="news-img" onerror="this.src='https://via.placeholder.com/600x300/121217/a855f7?text=NO+SIGNAL'">
                    </div>
                    <div class="news-content">
                        <div><span class="banner-tag" style="background:${color}; box-shadow: 0 0 10px ${color}80; font-size: 0.7rem;">${label}</span></div>
                        <h3>${item.title}</h3>
                        <p>${item.description}</p>
                        <button class="btn-read">Acessar Arquivo</button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // ==========================================
        // ARTIGO E INTERA√á√ïES
        // ==========================================
        function openArticle(id) {
            const item = getNews().find(n => n.id === id);
            if (!item) return;
            
            const color = getCatColor(item.category);
            document.getElementById('articleTag').textContent = getCatLabel(item.category);
            document.getElementById('articleTag').style.background = color;
            document.getElementById('articleTag').style.boxShadow = `0 0 15px ${color}80`;
            
            document.getElementById('articleTitle').textContent = item.title;
            
            const dt = new Date(item.date + 'T12:00:00').toLocaleDateString('pt-BR', { day: '2-digit', month: 'short', year: 'numeric' });
            document.getElementById('articleMeta').innerHTML = `Autorizado por: <strong style="color:var(--neon-purple);">System_Admin</strong> | Update: ${dt}`;
            
            document.getElementById('articleImg').src = item.image;
            
            // Formatador b√°sico de par√°grafos
            const safeBody = item.body.replace(/</g, "&lt;").replace(/>/g, "&gt;");
            const htmlBody = safeBody.split('\n')
                                     .filter(p => p.trim())
                                     .map(p => `<p>${p}</p>`)
                                     .join('');
                                     
            document.getElementById('articleBody').innerHTML = htmlBody;
            navigate('article');
        }

        function shareTwitter() {
            const t = document.getElementById('articleTitle').textContent;
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent('Dropping intel: ' + t + ' via @GlobalGames')}`);
        }
        function shareWhatsApp() {
            const t = document.getElementById('articleTitle').textContent;
            window.open(`https://wa.me/?text=${encodeURIComponent('Se liga nessa att: ' + t + ' | GG Portal')}`);
        }

        function filterNews(category, btn) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            if (btn) btn.classList.add('active');
            
            document.querySelectorAll('.news-card').forEach(card => {
                if (category === 'todos' || card.getAttribute('data-category') === category) {
                    card.style.display = 'flex';
                    card.style.animation = 'fadeIn 0.4s ease';
                } else {
                    card.style.display = 'none';
                }
            });
            document.getElementById('searchInput').value = "";
        }

        function searchNews() {
            const input = document.getElementById('searchInput').value.toLowerCase();
            if (input.length > 0) {
                document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
                document.getElementById('home').classList.add('active');
            }
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.news-card').forEach(card => {
                const t = card.querySelector('h3').innerText.toLowerCase();
                const d = card.querySelector('p').innerText.toLowerCase();
                card.style.display = (t.includes(input) || d.includes(input)) ? 'flex' : 'none';
            });
        }

        // ==========================================
        // SISTEMA DE AUTENTICA√á√ÉO
        // ==========================================
        function handleAdminClick() {
            if (isLoggedIn) navigate('dashboard');
            else openLoginModal();
        }
        function openLoginModal() {
            document.getElementById('loginModal').classList.add('show');
            document.getElementById('loginPassword').value = '';
            document.getElementById('loginError').style.display = 'none';
            setTimeout(() => document.getElementById('loginPassword').focus(), 100);
        }
        function closeLoginModal() { document.getElementById('loginModal').classList.remove('show'); }
        
        function attemptLogin() {
            if (document.getElementById('loginPassword').value === ADMIN_PASSWORD) {
                isLoggedIn = true;
                closeLoginModal();
                renderNavLinks();
                showToast('Acesso Concedido. Bem-vindo, Admin.');
                navigate('dashboard');
            } else {
                document.getElementById('loginError').style.display = 'block';
                document.getElementById('loginPassword').value = '';
                document.getElementById('loginPassword').focus();
            }
        }
        function handleLogout() {
            isLoggedIn = false;
            renderNavLinks();
            showToast('Sess√£o encerrada com seguran√ßa.');
            navigate('home');
        }

        // ==========================================
        // DASHBOARD CORE
        // ==========================================
        function switchTab(tabId, btn) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.dash-tab').forEach(b => b.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            btn.classList.add('active');
        }

        function renderDashboard() {
            renderDashStats();
            renderDashNewsTable();
            renderCategorySelect();
            renderCatGrid();
        }

        function renderDashStats() {
            const news = getNews();
            const cats = getCategories();
            const container = document.getElementById('dashStats');
            
            let html = `
                <div class="stat-card">
                    <div class="stat-number">${news.length}</div>
                    <div class="stat-label">Arquivos Publicados</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${cats.length}</div>
                    <div class="stat-label">Tags de Sistema</div>
                </div>
            `;
            
            // Top categoria
            const catCounts = {};
            news.forEach(n => { catCounts[n.category] = (catCounts[n.category] || 0) + 1; });
            const topCats = Object.entries(catCounts).sort((a, b) => b[1] - a[1]).slice(0, 1);
            
            if(topCats.length > 0) {
                html += `
                    <div class="stat-card">
                        <div class="stat-number" style="color:var(--neon-purple); text-shadow: 0 0 15px var(--neon-purple-glow);">${topCats[0][1]}</div>
                        <div class="stat-label">Top Tag: ${getCatLabel(topCats[0][0])}</div>
                    </div>
                `;
            }
            container.innerHTML = html;
        }

        // ==========================================
        // DASHBOARD: NOT√çCIAS (CRUD)
        // ==========================================
        function renderCategorySelect() {
            const cats = getCategories();
            const select = document.getElementById('inputCategory');
            const current = select.value;
            select.innerHTML = '';
            cats.forEach(c => { select.innerHTML += `<option value="${c.slug}">${c.icon || 'üìÅ'} ${c.name}</option>`; });
            if (current) select.value = current;
        }

        function showNewsForm(editing = false) {
            renderCategorySelect();
            document.getElementById('newsForm').style.display = 'block';
            if (!editing) {
                document.getElementById('newsFormTitle').innerHTML = 'üìÑ Criar Nova Publica√ß√£o';
                clearNewsForm();
                document.getElementById('inputDate').value = new Date().toISOString().split('T')[0];
            }
            document.getElementById('newsForm').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function hideNewsForm() {
            const title = document.getElementById('inputTitle').value;
            if (title && !confirm('Existem altera√ß√µes n√£o salvas. Deseja descartar?')) return;
            document.getElementById('newsForm').style.display = 'none';
            clearNewsForm();
        }

        function clearNewsForm() {
            ['editingNewsId', 'inputTitle', 'inputImage', 'inputDesc', 'inputBody'].forEach(id => document.getElementById(id).value = '');
            document.getElementById('inputFeatured').value = 'false';
        }

        function saveNews() {
            const title = document.getElementById('inputTitle').value.trim();
            const category = document.getElementById('inputCategory').value;
            const image = document.getElementById('inputImage').value.trim() || 'https://via.placeholder.com/600x300/121217/a855f7?text=NO+IMAGE';
            const description = document.getElementById('inputDesc').value.trim();
            const body = document.getElementById('inputBody').value.trim();
            const featured = document.getElementById('inputFeatured').value === 'true';
            const date = document.getElementById('inputDate').value || new Date().toISOString().split('T')[0];
            const editId = document.getElementById('editingNewsId').value;

            if (!title || !description || !body) {
                showToast('Erro de integridade: Preencha Manchete, Lead e Corpo.', true);
                return;
            }

            let news = getNews();
            if (featured) news = news.map(n => ({ ...n, featured: false })); // Remove destaque anterior

            if (editId) {
                const idx = news.findIndex(n => n.id === parseInt(editId));
                if (idx !== -1) news[idx] = { ...news[idx], title, category, image, description, body, featured, date };
                showToast('Base de dados atualizada.');
            } else {
                news.push({ id: getNewsNextId(), title, category, image, description, body, featured, date });
                showToast('Novo arquivo indexado com sucesso.');
            }

            saveNewsData(news);
            document.getElementById('inputTitle').value = ''; // hack para bypass no hideNewsForm confirm
            hideNewsForm();
            renderDashboard();
        }

        function editNews(id) {
            const item = getNews().find(n => n.id === id);
            if (!item) return;
            renderCategorySelect();
            document.getElementById('editingNewsId').value = item.id;
            document.getElementById('inputTitle').value = item.title;
            document.getElementById('inputCategory').value = item.category;
            document.getElementById('inputImage').value = item.image;
            document.getElementById('inputDesc').value = item.description;
            document.getElementById('inputBody').value = item.body;
            document.getElementById('inputFeatured').value = item.featured ? 'true' : 'false';
            document.getElementById('inputDate').value = item.date;
            document.getElementById('newsFormTitle').innerHTML = '‚úèÔ∏è Editando Arquivo Ref: #' + item.id;
            showNewsForm(true);
        }

        function deleteNews(id) {
            if (!confirm('Aviso cr√≠tico: Purgar este arquivo permanentemente?')) return;
            saveNewsData(getNews().filter(n => n.id !== id));
            showToast('Arquivo purgado do sistema.');
            renderDashboard();
        }

        function toggleFeatured(id) {
            let news = getNews().map(n => ({ ...n, featured: n.id === id ? !n.featured : false }));
            saveNewsData(news);
            showToast('Hero Banner reconfigurado.');
            renderDashboard();
        }

        function renderDashNewsTable() {
            const news = getNews();
            const tbody = document.getElementById('dashNewsBody');
            tbody.innerHTML = '';
            
            if (news.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" class="no-data">Nenhum bloco de dados encontrado.</td></tr>';
                return;
            }
            
            [...news].sort((a, b) => new Date(b.date) - new Date(a.date)).forEach(item => {
                const color = getCatColor(item.category);
                const dt = new Date(item.date + 'T12:00:00').toLocaleDateString('pt-BR');
                const tr = document.createElement('tr');
                
                tr.innerHTML = `
                    <td style="text-align:center;">
                        <span class="featured-star ${item.featured ? '' : 'inactive'}" onclick="toggleFeatured(${item.id})" title="Tornar Hero">
                            ${item.featured ? '‚òÖ' : '‚òÜ'}
                        </span>
                    </td>
                    <td><img src="${item.image}" class="img-preview" onerror="this.src='https://via.placeholder.com/80x50/121217/a855f7?text=IMG'"></td>
                    <td><strong style="color:var(--text-main);">${item.title.length > 50 ? item.title.substring(0, 50) + '...' : item.title}</strong></td>
                    <td><span class="cat-badge" style="background:${color}30; color:${color}; border: 1px solid ${color};">${getCatLabel(item.category)}</span></td>
                    <td style="white-space:nowrap; font-family:monospace; color:var(--text-muted);">${dt}</td>
                    <td>
                        <div class="actions-cell">
                            <button class="btn-dash edit" onclick="editNews(${item.id})">Editar</button>
                            <button class="btn-dash danger" onclick="deleteNews(${item.id})">Del</button>
                        </div>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // ==========================================
        // DASHBOARD: CATEGORIAS (CRUD)
        // ==========================================
        function showCatForm(editing = false) {
            document.getElementById('catForm').style.display = 'block';
            if (!editing) {
                document.getElementById('catFormTitle').innerHTML = 'üè∑Ô∏è Gerar Nova Tag';
                clearCatForm();
            }
            document.getElementById('catForm').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function hideCatForm() {
            const name = document.getElementById('catName').value;
            if(name && !confirm('Descartar configura√ß√µes de tag?')) return;
            document.getElementById('catForm').style.display = 'none';
            clearCatForm();
        }

        function clearCatForm() {
            document.getElementById('editingCatId').value = '';
            document.getElementById('catName').value = '';
            document.getElementById('catSlug').value = '';
            document.getElementById('catColor').value = '#a855f7';
            document.getElementById('catColorText').value = '#a855f7';
            document.getElementById('catIcon').value = '';
            document.getElementById('catShowNav').value = 'true';
            document.getElementById('catShowFilter').value = 'true';
        }

        function saveCategory() {
            const name = document.getElementById('catName').value.trim();
            let slug = document.getElementById('catSlug').value.trim().toLowerCase().replace(/[^a-z0-9-]/g, '');
            const color = document.getElementById('catColor').value;
            const icon = document.getElementById('catIcon').value.trim();
            const showNav = document.getElementById('catShowNav').value === 'true';
            const showFilter = document.getElementById('catShowFilter').value === 'true';
            const editId = document.getElementById('editingCatId').value;

            if (!name) { showToast('Defina um nome vis√≠vel para a tag.', true); return; }

            // Slug auto-gen
            if (!slug) slug = name.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '').replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g, '');

            let cats = getCategories();
            if (cats.find(c => c.slug === slug && (!editId || c.id !== parseInt(editId)))) {
                showToast('Conflito de ID: Slug j√° em uso no sistema.', true); return;
            }

            if (editId) {
                const idx = cats.findIndex(c => c.id === parseInt(editId));
                if (idx !== -1) {
                    const oldSlug = cats[idx].slug;
                    cats[idx] = { ...cats[idx], name, slug, color, icon, showNav, showFilter };
                    if (oldSlug !== slug) {
                        let news = getNews();
                        news = news.map(n => n.category === oldSlug ? { ...n, category: slug } : n);
                        saveNewsData(news);
                    }
                }
                showToast('Tag reconfigurada.');
            } else {
                cats.push({ id: getCatNextId(), name, slug, color, icon, showNav, showFilter, isDefault: false });
                showToast('Nova tag ativada.');
            }

            saveCategoriesData(cats);
            document.getElementById('catName').value = ''; // bypass confirm
            hideCatForm();
            renderDashboard();
            renderNavLinks();
        }

        function editCategory(id) {
            const cat = getCategories().find(c => c.id === id);
            if (!cat) return;
            document.getElementById('editingCatId').value = cat.id;
            document.getElementById('catName').value = cat.name;
            document.getElementById('catSlug').value = cat.slug;
            document.getElementById('catColor').value = cat.color;
            document.getElementById('catColorText').value = cat.color;
            document.getElementById('catIcon').value = cat.icon || '';
            document.getElementById('catShowNav').value = cat.showNav ? 'true' : 'false';
            document.getElementById('catShowFilter').value = cat.showFilter ? 'true' : 'false';
            document.getElementById('catFormTitle').innerHTML = '‚úèÔ∏è Editando Tag: ' + cat.name;
            showCatForm(true);
        }

        function deleteCategory(id) {
            const cats = getCategories();
            const cat = cats.find(c => c.id === id);
            if (!cat) return;

            const newsCount = getNews().filter(n => n.category === cat.slug).length;
            let msg = `CUIDADO: Purgar a tag "${cat.name}" do sistema?`;
            if (newsCount > 0) msg += `\n\nALERTA: ${newsCount} arquivo(s) usam esta tag. Eles ser√£o recategorizados para "Geral".`;
            
            if (!confirm(msg)) return;

            if (newsCount > 0) {
                let news = getNews();
                news = news.map(n => n.category === cat.slug ? { ...n, category: 'geral' } : n);
                saveNewsData(news);
            }

            saveCategoriesData(cats.filter(c => c.id !== id));
            showToast('Tag purgada.');
            renderDashboard();
            renderNavLinks();
        }

        function renderCatGrid() {
            const cats = getCategories();
            const news = getNews();
            const grid = document.getElementById('catGrid');
            grid.innerHTML = '';

            if (cats.length === 0) {
                grid.innerHTML = '<p class="no-data" style="grid-column:1/-1;">Nenhuma tag alocada.</p>';
                return;
            }

            cats.forEach(cat => {
                const count = news.filter(n => n.category === cat.slug).length;
                const card = document.createElement('div');
                card.className = 'cat-card';

                card.innerHTML = `
                    <span class="cat-card-count">${count} reqs</span>
                    <div class="cat-card-header">
                        <div class="cat-card-color" style="background:${cat.color}20; color: ${cat.color}; border: 1px solid ${cat.color}50;">
                            ${cat.icon || 'üè∑Ô∏è'}
                        </div>
                        <div class="cat-card-info">
                            <h4>${cat.name}</h4>
                            <small>ID: /${cat.slug}</small>
                        </div>
                    </div>
                    <div style="display:flex; gap:10px; font-size:0.75rem; font-family: monospace;">
                        <span style="color:${cat.showNav ? 'var(--neon-green)' : 'var(--text-muted)'}">${cat.showNav ? '‚ñ£ Nav Ativa' : '‚ñ° Nav Off'}</span>
                        <span style="color:${cat.showFilter ? 'var(--neon-green)' : 'var(--text-muted)'}">${cat.showFilter ? '‚ñ£ Filtro Ativo' : '‚ñ° Filtro Off'}</span>
                    </div>
                    <div class="cat-card-actions">
                        <button class="btn-dash edit" onclick="editCategory(${cat.id})" style="flex:1;">Configurar</button>
                        <button class="btn-dash danger" onclick="deleteCategory(${cat.id})">Del</button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // ==========================================
        // UI & UTILS
        // ==========================================
        function showToast(message, isError = false) {
            const toast = document.getElementById('toast');
            toast.innerHTML = (isError ? '‚ö†Ô∏è ' : '‚úÖ ') + message;
            toast.className = 'toast show' + (isError ? ' error' : '');
            
            // limpa timeouts anteriores para evitar bugs visuais
            if(window.toastTimer) clearTimeout(window.toastTimer);
            window.toastTimer = setTimeout(() => toast.className = 'toast', 3000);
        }

        // Inicializa√ß√£o do sistema
        document.addEventListener('DOMContentLoaded', () => {
            renderNavLinks();
            renderHome();
        });
    </script>
</body>
</html>
